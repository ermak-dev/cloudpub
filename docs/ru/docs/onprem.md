---
sidebar_position: 102
slug: /onprem
---

# On-Premise сервер

**CloudPub On-Premise** — это корпоративное решение для развертывания платформы туннелирования на собственной инфраструктуре. Данная версия позволяет организациям получить полный контроль над процессом публикации локальных сервисов, обеспечивая максимальную безопасность, соответствие требованиям информационной безопасности и независимость от внешних облачных провайдеров.

## Системные требования

Раздел содержит минимальные и рекомендуемые системные требования для развертывания и стабильной работы системы. Требования разделены на базовые (необходимые для функционирования основных компонентов) и дополнительные (зависящие от планируемой нагрузки и количества подключаемых агентов).

:::note
При планировании инфраструктуры следует учитывать как текущие потребности, так и возможности масштабирования системы в будущем. Представленные расчеты основаны на средних показателях производительности и могут варьироваться в зависимости от специфики использования и характера обрабатываемого трафика.
:::

 **Базовые требования**

 - Операционная система: Debian 12 или Ubuntu 22.04 (рекомендуется использовать минимальную установку без графического интерфейса)
 - RAM: 4 GB
 - CPU: 4 ядра (для базовой работы системы и сервиса туннелей)
 - Дисковое пространство: 50 GB для системы и базовых нужд

 **Дополнительные требования**

 - RAM: Дополнительно 25 МБ на каждого подключенного агента
 - CPU: 1 дополнительное ядро на каждых 250 агентов
 - Если требуется запись трафика: примерно 1 GB на агента в день

 **Пример**: Сервер на 1000 агентов

 - RAM: 4 GB + (1000 * 25 MB) = 29 GB
 - CPU: 4 ядра + (1000 / 250) = 8 ядер
 - Дисковое пространство: 50 GB + (1000 * 1 GB) = 1050 GB (около 1 TB, глубина записи 1 день)

## Развертывание сервера

Для корректной работы системы требуется подготовка инфраструктуры. Процесс развертывания включает настройку сервера, конфигурацию доменных имен, SSL-сертификатов и интеграцию с внешними сервисами.

Все компоненты должны быть подготовлены заранее, так как некоторые из них могут потребовать времени на получение или настройку (например, SSL-сертификаты или настройка DNS).

:::warning
Настоятельно рекомендуется настроить бекапы виртуальной машины средствами гипервизора или использовать специализированные инструменты резервного копирования для Linux. Настройка резервного копирования является **ответственностью пользователя**.
:::

### Необходимые компоненты и информация

 - Зарегистрированый домен 1 или 2 уровня (example.com или tunnel.example.com)
 - WildCard TLS сертификат (\*.example.com или \*.tunnel.example.com) в формате PEM (сертификат и приватный ключ)
 - Сервер (виртуальный или физический), соответсвующий системным требованиям
 - Логин/пароль root или пользователь с правами sudo
 - SSH доступ к серверу (публичный ключ будет предоставлен)
 - SMTP сервер для отправки транзакционной почты (host, логин, пароль, port, TLS/SSL)
 - E-Mail адрес для системных уведомлений и поддержки пользователей
 - Название сайта (например, "MyCompany Tunnel")
 - Опционально: API token и Chat ID для бота telegram c системными уведомлениями
 - Опционально: логин/пароль акканута на [DockerHub](https://hub.docker.com/) (если нужен репозиторий Docker образов)
